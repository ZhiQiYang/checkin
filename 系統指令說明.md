# LINE 打卡系統 - 指令功能文檔

本文檔詳細介紹了 LINE 打卡系統支援的各類指令及其功能。系統支援多種指令，讓使用者和管理員能夠快速執行各種功能。

## 一般用戶指令

所有使用者都可以使用以下指令：

| 指令 | 功能描述 |
|------|----------|
| `!上班打卡` | 快速完成上班打卡，無需開啟打卡頁面 |
| `!下班打卡` | 快速完成下班打卡，無需開啟打卡頁面 |
| `!快速打卡` | 同 `!上班打卡`，快速完成上班打卡 |
| `!打卡報表` | 產生並顯示個人打卡統計報表連結 |
| `!測試提醒` | 發送測試提醒訊息到用戶LINE帳號 |
| `!系統狀態` | 查看系統運行狀態，包括打卡數據統計 |
| `!幫助` | 顯示指令幫助信息 |
| `!管理指令` | 顯示管理員指令列表（僅管理員可使用） |
| `打卡` 或 `打卡連結` | 獲取打卡頁面連結 |

## 管理員指令

以下指令僅系統管理員可使用：

| 指令 | 功能描述 |
|------|----------|
| `!重置菜單` | 重置 LINE Rich Menu |
| `!診斷系統` | 執行系統診斷，並將報告發送給管理員 |
| `!備份數據` | 觸發數據庫備份操作 |
| `!清理緩存` | 清理系統緩存和臨時文件 |
| `!發送群通知` | 發送全群通知（透過管理面板使用） |

## 使用例子

1. **快速打卡**
   
   用戶在 LINE 中直接輸入 `!上班打卡`，系統會自動記錄打卡並發送確認訊息。

2. **查看報表**
   
   用戶輸入 `!打卡報表`，系統會回傳一個連結，點擊後可查看個人打卡記錄。

3. **測試提醒功能**
   
   用戶輸入 `!測試提醒`，系統會立即發送一條測試提醒到用戶的 LINE 帳號。

## 管理面板

管理員除了可以使用指令外，還可以訪問網頁管理面板進行更多操作：

1. 訪問管理面板：`/admin?userId=管理員的LINE用戶ID`
2. 查看系統日誌：`/admin/logs?userId=管理員的LINE用戶ID`

## 注意事項

1. 所有命令均需添加前綴 `!` 才能被識別為命令
2. 管理員命令僅管理員可使用，其他用戶使用會收到權限不足的提示
3. 快速打卡功能會記錄「快速打卡」作為位置信息
4. 使用指令前確保 LINE Bot 已加入為好友，否則無法接收系統回覆

## 擴充與定制

系統支持根據需求擴充更多指令，開發者可在 `routes/webhook.py` 文件中的命令處理部分添加新的指令邏輯。
